<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>loading</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/loading-style.css?v=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">
    <div class="coin-container">
<!--        <div class="coin-background"></div>-->
        <img src="img/Group3637.png" alt="coin" class="coin">
    </div>
    <div class="loading-bar">
        <div class="percentage" id="percentage">0%</div>
        <div class="progress"></div>
    </div>
</div>

<script>
    window.onload = function() {
        let progress = document.querySelector('.progress');
        let coin = document.querySelector('.coin');
        let percentage = document.querySelector('.percentage');

        const originalSize = 95;
        const targetSizeCoin = 600;
        const animationDuration = 5000; // 5 секунд

        setTimeout(() => {
            progress.style.width = '100%';

            let startTime = null;

            function animateSize(timestamp) {
                if (!startTime) startTime = timestamp;
                const elapsed = timestamp - startTime;

                // Рассчитываем текущий размер
                const currentSizeCoin = originalSize + (targetSizeCoin - originalSize) * (elapsed / animationDuration);
                coin.style.width = `${currentSizeCoin}px`;
                coin.style.height = `${currentSizeCoin}px`;

                if (elapsed < animationDuration) {
                    requestAnimationFrame(animateSize);
                } else {
                    coin.style.width = `${targetSizeCoin}px`;
                    coin.style.height = `${targetSizeCoin}px`;
                }
            }

            requestAnimationFrame(animateSize);

        }, 100);

        // Анимация изменения числа
        let counter = 0;
        let interval = setInterval(() => {
            if (counter < 100) {
                counter++;
                percentage.textContent = counter + '%';
            } else {
                clearInterval(interval);
            }
        }, 50);
        setTimeout(function(){
            window.location.href = "./onboarding.html";
        }, 5000);
    };

</script>
</body>
</html>
